{"version":3,"sources":["App.js","index.js"],"names":["App","useState","keyList","setKeyList","file","setFile","data","setData","postImage","a","actualFile","formData","FormData","append","axios","post","headers","result","useEffect","Axios","get","then","response","Contents","submit","event","preventDefault","className","onSubmit","onChange","target","files","type","map","val","Key","onClick","urltoS3","console","log","link","document","createElement","href","body","appendChild","click","ReactDOM","render","getElementById"],"mappings":"8NAwGeA,MAnGf,WAAgB,IAAD,EAEcC,mBAAS,IAFvB,mBAETC,EAFS,KAEAC,EAFA,OAGSF,qBAHT,mBAGRG,EAHQ,KAGFC,EAHE,OAISJ,mBAAS,IAJlB,mBAIRK,EAJQ,KAIFC,EAJE,cAaAC,EAbA,8EAaf,iCAAAC,EAAA,6DAA0BC,EAA1B,EAA0BA,YAClBC,EAAW,IAAIC,UACZC,OAAO,aAAcH,GAFhC,SAGuBI,IAAMC,KAAK,cAAeJ,EAAU,CAAEK,QAAS,CAAC,eAAgB,yBAHvF,cAGQC,EAHR,yBAISA,EAAOX,MAJhB,4CAbe,sBAMfY,qBAAU,WACRC,IAAMC,IAAI,WAAWC,MAAK,SAACC,GACzBnB,EAAWmB,EAAShB,KAAKiB,eAE3B,IAWF,IAoCMC,EAAM,uCAAG,WAAMC,GAAN,eAAAhB,EAAA,6DACbgB,EAAMC,iBADO,SAEQlB,EAAU,CAACE,WAAYN,IAF/B,OAEPa,EAFO,OAGbV,EAAQ,CAACU,EAAOP,YAAT,mBAAwBJ,KAHlB,2CAAH,sDASV,OACE,sBAAKqB,UAAU,MAAf,UACC,kDACA,sBAAKA,UAAU,OAAf,UAEA,uBAAMC,SAAUJ,EAAhB,UACG,uBAAOK,SAVM,SAAAJ,GACnB,IAAMrB,EAAOqB,EAAMK,OAAOC,MAAM,GAChC1B,EAAQD,IAQ6B4B,KAAK,SAEpC,wBAAQA,KAAK,SAAb,uBAGD9B,EAAQ+B,KAAI,SAACC,GAGZ,OACA,gCACA,4CAAeA,EAAIC,IAAnB,OACA,wBAAQC,QAAS,WA9DL,IAACD,IA8DsBD,EAAIC,IA7D5ChB,IAAMC,IAAN,uBAA0Be,IAExBd,MAAK,SAACC,GAEH,IAAMe,EAAUf,EAAShB,KACzBgC,QAAQC,IAAIF,GACZ,IAAMG,EAAOC,SAASC,cAAc,KACpCF,EAAKG,KAAON,EACZI,SAASG,KAAKC,YAAYL,GAC1BF,QAAQC,IAAI,WACZD,QAAQC,IAAIC,GACZA,EAAKM,YAkDL,sBACA,wBAAQV,QAAS,WA7CP,IAACD,IA6CqBD,EAAIC,IA5C1ChB,IAAMC,IAAN,qBAAwBe,IAEtBd,MAAK,SAACC,GACLgB,QAAQC,IAAIjB,EAAShB,UAyClB,oBACA,wBAAQ8B,QAAS,WApCR,IAACD,IAoCqBD,EAAIC,IAnCzChB,IAAMC,IAAN,mBAAsBe,IACnBd,MAAK,SAACC,GACLgB,QAAQC,IAAIjB,EAAShB,UAiCnB,+BCtFRyC,IAASC,OACL,cAAC,EAAD,IACFP,SAASQ,eAAe,W","file":"static/js/main.4065b647.chunk.js","sourcesContent":["import React,{useState, useEffect} from 'react';\nimport './App.css';\nimport Axios from 'axios'\nimport axios from 'axios';\n\nfunction App() {\n\nconst[keyList, setKeyList] = useState([])\nconst [file, setFile] = useState()\nconst [data, setData] = useState([])\n\nuseEffect(()=>{\n  Axios.get('api/get').then((response)=>{\n    setKeyList(response.data.Contents)\n  })\n},[])\n\n\nasync function postImage({actualFile}) {\n  const formData = new FormData();\n  formData.append(\"actualFile\", actualFile)\n  const result = await axios.post('api/insert/', formData, { headers: {'Content-Type': 'multipart/form-data'}})\n  return result.data\n}\n\n\nconst downloadKey = (Key) =>{\n   Axios.get(`api/download/${Key}`)\n  \n    .then((response) =>{\n        \n        const urltoS3 = response.data\n        console.log(urltoS3)\n        const link = document.createElement('a')\n        link.href = urltoS3\n        document.body.appendChild(link)\n        console.log(\"link is\")\n        console.log(link)\n        link.click()\n    \n  });\n}\n\n\nconst deleteKey = (Key) =>{\n  Axios.get(`api/delete/${Key}`)\n \n   .then((response) =>{\n     console.log(response.data)\n       \n });\n}\n\n\nconst viewFile = (Key) =>{\n  Axios.get(`api/view/${Key}`)\n    .then((response) =>{\n      console.log(response.data)\n    });\n\n}\n\nconst submit = async event => {\n  event.preventDefault()\n  const result = await postImage({actualFile: file})\n  setData([result.actualFile, ...data])\n}\nconst fileSelected = event => {\n  const file = event.target.files[0]\n  setFile(file)\n}\n  return (\n    <div className=\"App\">\n     <h1>FILE APPLICATION</h1>\n     <div className=\"form\">\n       \n     <form onSubmit={submit}>\n        <input onChange={fileSelected} type=\"file\" ></input>\n        \n        <button type=\"submit\">Submit</button>\n      </form>\n\n      {keyList.map((val)=> {\n        \n        \n        return(\n        <div>\n        <h1>FileName: {val.Key} </h1>\n        <button onClick={() =>{downloadKey(val.Key)} }>Download</button> \n        <button onClick={()=>{deleteKey(val.Key)}}>Delete</button>\n        <button onClick={()=>{viewFile(val.Key)}}>View</button>\n        </div> \n        )\n        \n      })}\n      \n\n      </div>\n\n    </div>\n\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />, \n  document.getElementById('root')\n);\n"],"sourceRoot":""}